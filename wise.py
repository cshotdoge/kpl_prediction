#!/usr/bin/env python#-*- coding:utf-8 -*
# @author: monday 
# @time: 2023/7/14 15:58 
# @desc:

import random
import sys


def pk(x):
    random.seed(x)
    r = random.choice([[103,-3],[-3,103],[102,-2],[-2,102],[101,-1],[-1,101]])
    return r





'''
def pk(dub):
    n1 = 0
    n2 = 0
    while n1 != 3 and n2 != 3:
        ran = '110111001110111101000000110101110000011110111111110100011010011010101000000000011000001000110011100110010000011100010000101100000111010001110111100010000111101000010010111010110111100000010011011010110000001011100111100010001100001110010110101100110110100010010100010001001010000001111100100000110101110010100000011110011000110010010000101001111110010101011010001111011010000000010110010011110111100101101101010111111111101010011110111001111110111010001000011110010110111100111010001100111010101110110101101110000001000100000111010011100011111010011100010110011011101111001111011010001001000100100111000010010110100110000110111110011110100111101111010100000010100011101010010110111101011001100101010110001111011010100110000001001011101100111011110110011010101110111111011011000111101111111001001011011100001101110010010000010010001110000101100111110011101000111101011000010111100010100001111100110110111001101000011100011111110000100011110111111111110101110011011100000001100110101001111110101000011011001101100100100100101000111011110100110001010111001110101010011111100011101101100110111100101111111111001100001011001111000111111000110101100101101010111001100011111101100000010110101111100100000001001010100110110100010011010110011111011010010101100100001111111010000110000111000000000000001100101101111101100010111010011010001010000001001011011111101110001001110100000101001100111011101000000110011010011010101000110110100101110010011101000010011011110010101010101010010010011101010101011110110011110110110010100011110001000000101111100101011111110010100100010010100011101001111001001011111011100000100100001010100111011101101011011010100111110010010110111111011011101110100100001010110110111010111010110001000011010110100110001101100010001011001001000101111001000101100000010000101011110000110010100110111000101010011100110010011000000000110100111111010001000010000000010100000110100100001000110010010001000001111010100110111110010011010011111100100110001111110001101000101000111101111001000111001100110001011100100011011011110100100000010000100110011101000000000101011010000011011001101110100000101001001110111101101100100111001101011100101000111110101010101011100111111011101011010111110000011000000100010011011111101110100111111101100111010000000110101100001100001101011000000001110000001100100011001100011010110010011111101101111110010101000100101000011100000011100001000100000000011001000010001000011101000100101001101011010010111000010100110001011011011000001011101001001111101010011010011011101000101101101011001000100001111001110100111000100010010010010110110001110000010001010011100011010100111010101110100110110110101110110000100011010010001000001110001001001111111011100101110110001010010001000011100100100101110111011111110111100110010011110111001100011000011110111010110100111001111000110000111011011100011010100100001000100110100111100011110110001001001111100000100111001000001011101011111111111000101100100011000000110110111011011111011101111110101001110001101110010010110001001110110110100001110011000101100100111010001110011101111001011110100101100111001110010010010011100110100110100001000111010100000101000110100101100001011011000000011001000011011000011111000101101110111000010100110010001011011010111011010001011101110001100010011011100000001101111111101111110000011100111000101011010111011100101110110110011010011100010010100110111111001000000110001000111101001110001111011101001101010101110001111001101001010000110110011111011011010011111111010000110000100011101100111011010011111011000101101101110111010111110011110110110101111101000010110101110010110110011101110100111011101100010100101011011100101100000001101101011100101010101100101110001010111010110000011111100001011010110001101111000001111100100110011111101110010011010100010001100101001000101110101001100110011101010100111110000101010010110011110001101001110011011000010110111000000000110110010101100000010110111001001110011100110000110010110110000000010101110001100000111011100110100000010101100010100100101110001100011110101011101110111010000000111010101001100001001011101101001100001011010010110001101000011111001110001010011101100011100100100001100011110111011000011010101000100011001010001101001011110100100000010001101101111000111010101000010001011011010111001110100000101011100111100101000000100011101000000100101001010101010101100011100111100011101110111101000011011110110100001010000011011001001111011101101011011010111010111101011111111100100001011111010110110100101000111011101001011000111101111110101010111011111111100011000100110100111001111000010000111000010101010100111110100111000001001001010011011110110010000011110100100110111100111000001111011110011100101010011010001010101011001000000110011111001110100101010010110011001011100110010101011000100100000001001010001000001010001110110000000110000001001111101111011111111101111011000010110001010010110001010011101011111001110011010011001010001001011110000001111011100111010000011110101000100101101111110010111010011110010000110100000110000010110000101101110011010001110010111101111111011110101101011010100100001000101000001000101000100000011000000001100110101011010101110010010110101010011110001001000010001111011100010011111100110110001111000110010111110011110110000000111000100111011001111111101001111000110101011110111001110110110101100100011010110'
        r = ran[dub]
        #print(r)
        if r == '0':
            n1 += 1
        if r == '1':
            n2 += 1
    if n1 == 3:
        return [100+n1-n2, n2-n1]
    if n2 == 3:
        return [n1-n2, 100+n2-n1]
'''


def naova(team_names):
    scores = {}
    for j in range(1, 6):
        for k in range(j + 1, 7):
            score = []
            res = 0
            while True:
                res = input(team_names[j] + ' vs ' + team_names[k])
                if res not in ['30', '03', '31', '13', '32', '23', '']:
                    print('错误，请重新输入！')
                    continue
                if res in ['30', '03', '31', '13', '32', '23']:
                    shit = list(res)
                    if shit[0] == '3':
                        score = [100 + int(shit[0]) - int(shit[1]), int(shit[1]) - int(shit[0])]
                    if shit[1] == '3':
                        score = [int(shit[0]) - int(shit[1]), 100 + int(shit[1]) - int(shit[0])]
                    scores[str(j) + str(k)] = score
                break
    if scores == {}:
        return '测试'
    return scores

def ranking(scores,dub):
    sb = 0
    scsc = {}
    for j in range(1, 6):
        for k in range(j+1, 7):
            if str(j) + str(k) in scores.keys():
                scsc[str(j) + str(k)] = scores[str(j) + str(k)]
            if str(j) + str(k) not in scores.keys():
                sb += 1
                scsc[str(j) + str(k)] = pk(dub*15+sb)
    final = {}
    for i in range(1, 7):
        final[i] = 0
    #print(scores)
    for sc in scsc.items():
        sc_lst = list(sc[0])
        final[int(sc_lst[0])] += sc[1][0]
        final[int(sc_lst[1])] += sc[1][1]
    ranked = sorted(final.items(), key=lambda x: x[1], reverse=True)
    #平分考虑
    finall = []
    mid = {}
    flag = False
    for l in range(0,5):
        if ranked[l] != ranked[l+1]:
            if flag == False:
                finall.append(ranked[l])
            if flag == True:
                flag = False
                mid[ranked[l]] = 0
                for st in scores.items():
                    sc_lst = list(st[0])
                    if int(sc_lst[0]) in mid.keys() and int(sc_lst[1]) in mid.keys():
                        mid[int(sc_lst[0])] += st[1][0]
                        mid[int(sc_lst[1])] += st[1][1]
                midd = sorted(mid.items(), key=lambda x: x[1], reverse=True)
                finall = finall + midd
        if ranked[l] == ranked[l+1]:
            flag = True
            mid[ranked[l][0]] = 0
    finall.append(ranked[5])
    return finall

if __name__ == '__main__':
    scores = {}
    team_names = {}
    team_finals = {}
    while True:
        mode = input('选择模式:1为当前组别，2为自定义组别')
        if mode in '12':
            if mode == '1':
                team_names = {1:'南京hero', 2:'济南rw', 3: 'xyg', 4: '苏州ksg', 5:'长沙tes', 6:'深圳dyg'}
                break
            if mode == '2':
                print('请输入队伍名称，回车结束')
                for i in range(1, 7):
                    team_names[i] = input('队伍' + str(i) + ':')
                break
        if mode not in '12':
            print('虚假')
            continue
    for i in range(1, 7):
        team_finals[i] = {}
        for w in range(1, 7):
            team_finals[i][w] = 0

    print('请输入已知的比赛结果并回车（例如30,03,31,13,32,23，如果还没结果就直接回车)')
    scores = naova(team_names)
    if scores == '测试':
        for v in range(1, 7):
            print(team_names[v])
            for x in range(1, 7):
                print('第' + str(x) + '名的概率:', 1/6)
        sys.exit()

    dub = 0
    wanted = 100000
    print('计算中，请等待')

    while dub < wanted:
        dub += 1
        final_list = []
        final_list = ranking(scores,dub)
        team_finals[final_list[0][0]][1] += 1
        team_finals[final_list[1][0]][2] += 1
        team_finals[final_list[2][0]][3] += 1
        team_finals[final_list[3][0]][4] += 1
        team_finals[final_list[4][0]][5] += 1
        team_finals[final_list[5][0]][6] += 1

    for v in range(1,7):
        print(team_names[v])
        for x in range(1,7):
            print('第'+ str(x) +'名的概率:', team_finals[v][x]/dub)








































